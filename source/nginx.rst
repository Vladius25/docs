=============================
Настройка веб-сервера Nginx
=============================

Определение веб-сервера
========================

Понятие **веб-сервер** может относиться как к аппаратной начинке, так и к программному обеспечению. Или даже к обеим частям, работающим совместно.

1. С точки зрения "железа", **веб-сервер** — это компьютер, который хранит файлы сайта (HTML-документы, CSS-стили, JavaScript-файлы, картинки и другие) и доставляет их на устройство конечного пользователя (веб-браузер и т.д.). Он подключен к сети Интернет и может быть доступен через доменное имя, подобное ``school9.perm.ru``.

2. С точки зрения ПО, **веб-сервер** включает в себя несколько компонентов, которые контролируют доступ веб-пользователей к размещенным на сервере файлам, как минимум — это HTTP-сервер. HTTP-сервер — это часть ПО, которая понимает URL’ы (веб-адреса) и HTTP (протокол, который ваш браузер использует для просмотра веб-страниц).

На самом базовом уровне, когда браузеру нужен файл, размещенный на веб-сервере, браузер запрашивает его через HTTP-протокол. Когда запрос достигает нужного веб-сервера ("железо"), сервер HTTP (ПО) принимает запрос, находит запрашиваемый документ (если нет, то сообщает об ошибке 404) и отправляет обратно, также через HTTP.

.. image:: _static/images/web-server.png

Популярное ПО
===============

**Apache** и **Nginx** — 2 самых широко распространенных веб-сервера с открытым исходным кодом в мире. Вместе они обслуживают большинство трафика во всем интернете. Оба решения способны работать с разнообразными рабочими нагрузками и взаимодействовать с другими приложениями для реализации полного веб-стека.

Apache
---------

**Apache HTTP Server** был разработан *Робертом Маккулом* в 1995 году, а с 1999 года разрабатывается под управлением *Apache Software Foundation* — фонда развития программного обеспечения Apache. Так как HTTP сервер это первый и самый популярный проект фонда его обычно называют просто Apache.

Веб-север Apache был самым популярным веб-сервером в интернете с 1996 года. Благодаря его популярности у Apache сильная документация и интеграция со сторонним софтом

Nginx (Engine X)
-----------------

В 2002 году *Игорь Сысоев* начал работу над **Nginx** для того чтобы решить проблему C10K — требование к ПО работать с 10 тысячами одновременных соединений. Первый публичный релиз был выпущен в 2004 году, поставленная цель была достигнута благодаря асинхронной event-driven архитектуре.

**Nginx** начал набирать популярность с момента релиза благодаря своей легковесности (light-weight resource utilization) и возможности легко масштабироваться на минимальном железе. Nginx превосходен при отдаче статического контента и спроектирован так, чтобы передавать динамические запросы другому ПО предназначенному для их обработки.

**Nginx** позиционируется производителем как простой, быстрый и надёжный сервер, не перегруженный функциями. Далее рассмотрим его установку и настройку.

Установка
==================

Установим пакет Nginx:

.. code:: bash

        # yum install nginx

.. note::

        Символ ``#`` означает, что команда выполняется с права суперпользователя
